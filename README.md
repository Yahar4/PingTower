# PingTower API

**PingTower** — это система мониторинга доступности сервисов и API-эндпоинтов.  
Она выполняет регулярные проверки ресурсов, собирает телеметрию (время ответа, DNS/TLS/TTFB и пр.), сохраняет результаты в БД и предоставляет REST API для управления сервисами и получения метрик.

---

## Возможности
- Добавление сервисов для мониторинга.
- Регулярная проверка доступности HTTP/HTTPS-ресурсов.
- Сбор детализированных метрик:
  - DNS lookup time
  - Connect time
  - TLS handshake
  - Time To First Byte (TTFB)
  - Полное время ответа
- Хранение результатов в PostgreSQL (структурированные данные) и ClickHouse (аналитика временных рядов).
- Кэширование и быстрый доступ через Redis.
- REST API для управления сервисами: создание, обновление, удаление, получение списка.
- Метрики выполнения заданий планировщика (успешные/ошибочные проверки, среднее время отклика и т.д.).

---

## Архитектура
- **Scheduler** — планировщик задач, который по заданным интервалам вызывает проверки.
- **HTTP-чекер** — выполняет запросы и собирает метрики.
- **PostgreSQL** — хранение информации о сервисах и результатах проверок.
- **Redis** — кэш активных задач.
- **REST API** (на базе Echo) — основной способ взаимодействия с системой.

---

## Запуск

### Зависимости
- Go 1.21+
- PostgreSQL
- Redis
- ClickHouse (опционально)

### Локальный запуск
```bash
# клонировать проект
git clone https://github.com/your-org/pingtower.git
# контейнеры
make docker-compose
# база данных
make db-up
# запуск приложения
make run
```
